import{_ as W}from"./layout-dashboard.vue_vue_type_script_setup_true_lang-958ad2df.js";import{l as J,_ as M}from"./lodash-457a9fa0.js";import{u as Q,_ as X,a as Y}from"./use-confirmation-dialog-f27dc5e5.js";import{_ as Z}from"./base-button.vue_vue_type_script_setup_true_lang-4855967e.js";import{_ as ee}from"./icon-trash-3358a3b0.js";import{_ as te}from"./icon-plus-001b63cc.js";import{_ as se}from"./input-native-select.vue_vue_type_script_setup_true_lang-03d04589.js";import{_ as le}from"./input-text.vue_vue_type_script_setup_true_lang-ee1b20a5.js";import{_ as oe}from"./icon-arrow-right-0b55281d.js";import{d as ne,r as _,s as b,v as ae,x as k,f as ie,o as r,c as f,a as l,w as a,b as e,t as C,g as h,j as g,n as re,u as d,q as z,F as D,i as de,h as ue,l as ce}from"./app-b27d1e1c.js";import{_ as me}from"./flag.vue_vue_type_script_setup_true_lang-49392d2a.js";import{_ as pe}from"./source-phrase-item.vue_vue_type_script_setup_true_lang-6d868a43.js";import"./icon-publish-d174d932.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./icon-arrow-left-f7141c4b.js";import"./transition-fb6f7415.js";import"./use-input-size-af841cf1.js";import"./icon-pencil-11e6ac65.js";const _e={class:"w-full bg-white shadow-sm rounded"},fe={class:"mx-auto flex w-full items-center justify-between px-3 mt-3"},he={class:"flex w-full items-center"},ge={class:"flex w-full items-center gap-3 py-4"},ve={class:"h-5 shrink-0"},xe={class:"flex items-center space-x-2"},we=["textContent"],ye=["textContent"],be={class:"mx-auto py-4"},ke={class:"w-full divide-y overflow-hidden rounded-md bg-white shadow"},Ce={class:"flex w-full flex-wrap items-center justify-between gap-4 px-4 py-3 sm:flex-nowrap"},ze={class:"w-full max-w-full md:max-w-sm"},De={class:"w-full max-w-full md:max-w-sm"},Se={class:"w-full shadow-md"},je={class:"flex h-14 w-full divide-x"},Fe={class:"flex w-12 items-center justify-center"},$e={class:"grid w-36 grid-cols-2 divide-x"},Ve={class:"flex h-full"},Be={class:"flex w-full max-w-full"},Ie=["disabled"],Ae={class:"flex flex-col p-6"},Ne={class:"mt-4 flex gap-4"},et=ne({__name:"index",props:{phrases:{},translation:{},files:{},filter:{}},setup(S){var x,w;const i=S,u=_(((x=i.filter)==null?void 0:x.keyword)||""),c=_(((w=i.filter)==null?void 0:w.translationFile)||""),j=b(()=>i.files.map(s=>({value:s.id,label:s.nameWithExtension})));ae([u,c],J.debounce(()=>{k.get(route("ltu.source_translation"),{filter:{keyword:u.value||void 0,translationFile:c.value||void 0}},{preserveState:!0,preserveScroll:!0,only:["phrases"]})},300));const o=_([]),{loading:F,showDialog:$,openDialog:v,performAction:V,closeDialog:B}=Q(),I=async()=>{await V(()=>k.post(route("ltu.source_translation.delete_phrases"),{selected_ids:o.value},{preserveScroll:!0,onSuccess:()=>{o.value=[]}}))};function A(){o.value.length===i.phrases.data.length?o.value=[]:o.value=i.phrases.data.map(s=>s.id)}const N=b(()=>o.value.length===Object.keys(i.phrases.data).length);return(s,t)=>{const T=ue,L=me,m=ce,E=oe,P=le,K=se,U=X,q=te,G=ee,y=Z,H=Y,O=M,R=W,p=ie("tooltip");return r(),f(D,null,[l(T,{title:"Base Language"}),l(R,null,{default:a(()=>[e("div",_e,[e("div",fe,[e("div",he,[e("div",ge,[l(m,{href:s.route("ltu.source_translation"),class:"flex items-center gap-2 rounded-md border border-transparent bg-gray-50 px-2 py-1 hover:border-blue-400 hover:bg-blue-100"},{default:a(()=>[e("div",ve,[l(L,{"country-code":s.translation.language.code,width:"w-5"},null,8,["country-code"])]),e("div",xe,[e("div",{class:"text-sm font-semibold text-gray-600",textContent:C(s.translation.language.name)},null,8,we)])]),_:1},8,["href"]),e("div",{class:"rounded-md border bg-white px-1.5 py-0.5 text-sm text-gray-500",textContent:C(s.translation.language.code)},null,8,ye)])]),h((r(),g(m,{href:s.route("ltu.translation.index"),class:"flex size-10 items-center justify-center rounded-full bg-gray-100 p-1 hover:bg-gray-200"},{default:a(()=>[l(E,{class:"size-6 text-gray-400"})]),_:1},8,["href"])),[[p,"Go back"]])])]),e("div",be,[e("div",ke,[e("div",Ce,[e("div",ze,[l(P,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=n=>u.value=n),placeholder:"Search by key or value",size:"md"},null,8,["modelValue"])]),e("div",De,[l(K,{id:"translationFile",modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=n=>c.value=n),size:"md",placeholder:"Filter by file",items:j.value},null,8,["modelValue","items"])])]),e("div",Se,[e("div",je,[e("div",Fe,[l(U,{disabled:!s.phrases.data.length,checked:N.value,onClick:A},null,8,["disabled","checked"])]),t[7]||(t[7]=e("div",{class:"grid w-full grid-cols-2 divide-x"},[e("div",{class:"flex w-full items-center justify-start px-4"},[e("span",{class:"text-sm font-medium text-gray-400"},"Key")]),e("div",{class:"flex w-full items-center justify-start px-4"},[e("span",{class:"text-sm font-medium text-gray-400"},"String")])],-1)),e("div",$e,[h((r(),g(m,{href:s.route("ltu.source_translation.add_source_key"),class:"group flex items-center justify-center hover:bg-blue-50"},{default:a(()=>[l(q,{class:"size-5 text-gray-400 group-hover:text-blue-600"})]),_:1},8,["href"])),[[p,"Add New Key"]]),e("div",Ve,[e("div",Be,[h((r(),f("button",{type:"button",class:re(["relative inline-flex size-14 select-none items-center justify-center text-sm font-medium uppercase tracking-wide text-gray-400 no-underline outline-none transition-colors duration-150 ease-out",{"cursor-not-allowed":!o.value.length,"cursor-pointer":o.value.length,"hover:bg-red-50 hover:text-red-600":o.value.length,"bg-gray-50":!o.value.length}]),disabled:!o.value.length,onClick:t[2]||(t[2]=(...n)=>d(v)&&d(v)(...n))},[l(G,{class:"size-5"})],10,Ie)),[[p,o.value.length?"Delete selected":"Select phrases to delete"]])])]),l(H,{size:"sm",show:d($)},{default:a(()=>[e("div",Ae,[t[5]||(t[5]=e("span",{class:"text-xl font-medium text-gray-700"},"Are you sure?",-1)),t[6]||(t[6]=e("span",{class:"mt-2 text-sm text-gray-500"}," This action cannot be undone, This will permanently delete the selected phrases and all of their translations. ",-1)),e("div",Ne,[l(y,{variant:"secondary",type:"button",size:"lg","full-width":"",onClick:d(B)},{default:a(()=>[...t[3]||(t[3]=[z(" Cancel ",-1)])]),_:1},8,["onClick"]),l(y,{variant:"danger",type:"button",size:"lg","is-loading":d(F),"full-width":"",onClick:I},{default:a(()=>[...t[4]||(t[4]=[z(" Delete ",-1)])]),_:1},8,["is-loading"])])])]),_:1},8,["show"])])])]),(r(!0),f(D,null,de(s.phrases.data,n=>(r(),g(pe,{key:n.uuid,phrase:n,"selected-ids":o.value},null,8,["phrase","selected-ids"]))),128)),l(O,{links:s.phrases.links,meta:s.phrases.meta},null,8,["links","meta"])])])]),_:1})],64)}}});export{et as default};
